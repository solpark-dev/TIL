# 2025-08-12-TIL: JSP Expression Language(EL) 핵심 정복

## 🏷️ Tags
`Java` `JSP` `Servlet` `EL` `Expression Language` `Scope` `OGNL`

## 📚 오늘 배운 내용

오늘은 JSP의 뷰(View)를 더 단순하고 깔끔하게 만들어주는 **Expression Language(EL)**의 핵심 개념을 학습했다. 스크립틀릿(`<% ... %>`)과 표현식(`<%= ... %>`)을 대체하여 자바 코드를 뷰에서 분리하고, 내장 객체와 연산자를 통해 데이터에 쉽게 접근하는 방법을 익혔다.

## Part 1: EL 기본 문법 및 연산자 (`01JSPELTest.jsp` 분석)

EL은 `${ }` 기호 안에 표현식을 작성하여 서버 측 데이터를 쉽게 출력한다. 이 과정에서 다양한 연산자를 지원하여 뷰 페이지에서 간단한 데이터 처리가 가능하다.

- `01JSPELTest.jsp` (View): EL의 기본 표현식과 주요 연산자의 동작을 테스트하는 JSP 파일.

### ① EL 연산자 기능 흐름

- **기본 데이터 표현**: `${"안녕"}`, `${1122}` 처럼 문자, 숫자 등 기본 데이터를 직접 출력할 수 있다.
- **산술 연산**: `${"1" + 1122}` 와 같이 문자열 형태의 숫자를 자동으로 숫자로 변환하여 산술 연산을 수행한다. (결과: `1123`)
- **관계/논리 연산**: `${10 == 10}` (true), `${!true}` (false) 등 직관적인 비교 및 논리 연산이 가능하다.
- **삼항 연산자**: `${10 >= 100 ? "참" : "거짓"}` 처럼 간단한 조건 분기를 처리한다.
- **`empty` 연산자**: `${empty ""}` (true), `${empty null}` (true) 처럼 객체가 `null`이거나 빈 컬렉션/문자열인지 쉽게 확인할 수 있어, `NullPointerException` 방지에 매우 유용하다.

## Part 2: EL Scope와 데이터 접근 (`02JSPELTest.jsp` 분석)

EL의 가장 강력한 기능 중 하나는 `page`, `request`, `session`, `application`이라는 네 가지 Scope에 저장된 객체에 손쉽게 접근하는 것이다.

- `02JSPELTest.jsp` (View): 각 Scope에 동일한 이름("abc")의 속성을 저장하고, EL이 어떻게 데이터를 찾아오는지 확인하는 테스트 파일.

### ① Scope 데이터 접근 흐름

- **명시적 Scope 접근**: `${requestScope.abc}` 처럼 `xxxScope` 내장 객체를 사용하여 특정 Scope의 데이터를 명확하게 지정할 수 있다.
- **묵시적 Scope 탐색**: Scope를 생략하고 `${abc}`로만 작성하면, EL은 **page → request → session → application** 순서로 가장 작은 Scope부터 해당 이름의 데이터를 찾는다.
- **데이터 구조 접근**:
  - **점 연산자 (`.`)**: `${applicationScope.abc.zzz}` 처럼 객체의 프로퍼티(getter)나 Map의 key로 값에 접근한다.
  - **대괄호 연산자 (`[]`)**: `${sessionScope.def[0]}` 처럼 List/배열의 인덱스로 접근하거나, `${applicationScope.abc["zzz"]}` 처럼 key 이름에 특수문자가 포함될 때 사용한다.

## Part 3: EL 내장 객체 활용 (`03ELMultiCheck.html` & `03JSPELTest.jsp` 분석)

EL은 클라이언트의 요청 파라미터, 쿠키, 헤더 정보 등에 쉽게 접근할 수 있도록 다양한 내장 객체를 제공한다.

- `03ELMultiCheck.html` (View): 이름, 주소, 체크박스 값을 서버로 전송하는 폼 페이지.
- `03JSPELTest.jsp` (Controller + View): `html` 폼에서 전송된 데이터를 EL 내장 객체로 처리하여 보여주는 페이지.

### ① EL 내장 객체 처리 흐름

- **`param`, `paramValues`**:
  - 기존의 `<%= request.getParameter("name") %>` 코드를 `${param.name}`으로 단순화했다.
  - 여러 값을 받는 체크박스의 경우, `<%= request.getParameterValues("sw")[1] %>` 대신 `${paramValues.sw[1]}`로 간결하게 접근할 수 있다.
- **`cookie`**: `${cookie.JSESSIONID.value}` 와 같이 쿠키 이름과 `value` 프로퍼티를 통해 쿠키 값을 쉽게 가져올 수 있다.
- **`pageContext`**: EL에서 유일하게 다른 모든 내장 객체에 접근할 수 있는 통로 역할을 한다. `${pageContext.request.requestURI}` 처럼 다른 객체의 정보를 탐색할 때 사용된다.
